(function(t){function e(e){for(var n,i,o=e[0],l=e[1],c=e[2],d=0,f=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(f.length)f.shift()();return r.push.apply(r,c||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],n=!0,o=1;o<s.length;o++){var l=s[o];0!==a[l]&&(n=!1)}n&&(r.splice(e--,1),t=i(i.s=s[0]))}return t}var n={},a={app:0},r=[];function i(e){if(n[e])return n[e].exports;var s=n[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=n,i.d=function(t,e,s){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(i.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)i.d(s,n,function(e){return t[e]}.bind(null,n));return s},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/arbitrage-vue/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"0110":function(t,e,s){"use strict";var n=s("73c6"),a=s.n(n);a.a},"051c":function(t,e,s){"use strict";var n=s("8ad1"),a=s.n(n);a.a},"2ab4":function(t,e,s){},4678:function(t,e,s){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return s(e)}function r(t){if(!s.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}a.keys=function(){return Object.keys(n)},a.resolve=r,t.exports=a,a.id="4678"},"53d5":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("2b0e"),a=s("574d"),r=s.n(a),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"theme-container"},[t.isLoggedIn?s("TheHeader"):t._e(),s("router-view")],1)},o=[],l=(s("8e6e"),s("ac6a"),s("456d"),s("bd86")),c=s("2f62"),u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("vs-navbar",{attrs:{color:"primary",shadow:"","text-white":"",fixed:""},scopedSlots:t._u([{key:"left",fn:function(){return[n("div",{staticClass:"logo-wrapper"},[n("img",{attrs:{src:s("e8bd")}})])]},proxy:!0},{key:"right",fn:function(){return[n("vs-navbar-item",{attrs:{to:"/statistics",active:"Statistics"===t.$route.name}},[t._v("\n      Статистика\n    ")]),n("vs-navbar-item",{attrs:{to:"/applications",active:"Applications"===t.$route.name}},[t._v("\n      Приложения\n    ")]),n("vs-navbar-item",{attrs:{to:"/templates",active:"Templates"===t.$route.name}},[t._v("\n      Пуши\n    ")]),n("vs-navbar-item",{on:{click:t.handleLogout}},[t._v("\n      Выйти\n    ")])]},proxy:!0}])})},d=[],f={name:"TheHeader",methods:{handleLogout:function(){this.$store.commit("auth/setAuth",!1),this.$router.push({path:"/login"})}}},p=f,v=(s("ad49"),s("2877")),m=Object(v["a"])(p,u,d,!1,null,"f6103bbe",null),b=m.exports;function h(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function _(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?h(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var g={name:"App",components:{TheHeader:b},created:function(){"/"===this.$route.path&&this.$router.push({path:"/login"})},computed:_({},Object(c["b"])("auth",["isLoggedIn"]))},y=g,j=(s("807a"),Object(v["a"])(y,i,o,!1,null,"7bacf65e",null)),k=j.exports,C=s("58ca"),A=s("c1df"),w=s.n(A),M=s("8c4f"),T={isLoggedIn:!1},x={setAuth:function(t,e){t.isLoggedIn=e}},P={},O={namespaced:!0,state:T,mutations:x,actions:P},I=(s("96cf"),s("3b8d")),E=s("bc3a"),S=s.n(E),D=S.a.create({baseURL:"".concat("https://plagoo.cf")}),$=D,R={getApplications:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.get("/api/apps/");case 3:return e=t.sent,s=e.data,t.abrupt("return",s);case 8:throw t.prev=8,t.t0=t["catch"](0),Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),createApplication:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.post("/api/apps/",e);case 3:return s=t.sent,t.abrupt("return",s);case 7:throw t.prev=7,t.t0=t["catch"](0),Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),editApplication:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.post("/api/apps/".concat(e,"/"),s);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t["catch"](0),Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e,s){return t.apply(this,arguments)}return e}()},F={applications:[],request:!1},L={setApplications:function(t,e){t.applications=e},setRequest:function(t,e){t.request=e}},q={getApplications:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return s=e.commit,t.prev=1,s("setRequest",!0),t.next=5,R.getApplications();case 5:return n=t.sent,s("setApplications",n),t.abrupt("return",n);case 10:throw t.prev=10,t.t0=t["catch"](1),Error(t.t0);case 13:return t.prev=13,s("setRequest",!1),t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[1,10,13,16]])})));function e(e){return t.apply(this,arguments)}return e}()},H={namespaced:!0,state:F,mutations:L,actions:q};n["default"].use(c["a"]);var N=function(){return{}},z=new c["a"].Store({state:N,modules:{auth:O,applications:H}}),Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"full-size-space-between"},[s("div",{staticClass:"full-size-space-between__row"},[s("vs-row",[s("vs-col",{attrs:{w:"12"}},[s("div",{staticClass:"actions"},[s("vs-select",{staticClass:"actions__action",attrs:{placeholder:"Выберите приложение",loading:t.fetchingApplicationStatistic},model:{value:t.selectedApplication,callback:function(e){t.selectedApplication=e},expression:"selectedApplication"}},t._l(t.applications,(function(e){return s("vs-option",{key:e.value,attrs:{label:e.label,value:e.value}},[t._v("\n              "+t._s(e.label)+"\n            ")])})),1),s("vs-input",{staticClass:"actions__action",attrs:{type:"date"},model:{value:t.dateFilters.fromDate,callback:function(e){t.$set(t.dateFilters,"fromDate",e)},expression:"dateFilters.fromDate"}}),s("vs-input",{staticClass:"actions__action",attrs:{type:"date"},model:{value:t.dateFilters.toDate,callback:function(e){t.$set(t.dateFilters,"toDate",e)},expression:"dateFilters.toDate"}}),t.selectedApplication?s("vs-button",{staticClass:"actions__action",attrs:{loading:t.reloadApplicationStatistic,flat:""},on:{click:t.reload}},[t._v("\n            Обновить\n          ")]):t._e(),t.hasFilters?s("vs-button",{staticClass:"actions__action",attrs:{flat:""},on:{click:t.resetDateFilters}},[t._v("\n            Сбросить фильтры\n          ")]):t._e()],1)])],1),s("vs-row",{style:{marginTop:"15px"}},[s("vs-col",{attrs:{w:"12"}},[s("vs-table",{ref:"table",attrs:{striped:""},scopedSlots:t._u([{key:"thead",fn:function(){return[s("vs-tr",[s("vs-th",[t._v("\n                Date\n              ")]),s("vs-th",[t._v("\n                Installs\n              ")]),s("vs-th",[s("div",{staticClass:"subtitle-short"},[t._v("\n                  Reg"),s("br"),t._v("\n                  <10 min\n                ")])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    10 min no reg\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Reg\n                    ")])])])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    24 h no reg\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Reg\n                    ")])])])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    48 h no reg\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Reg\n                    ")])])])]),s("vs-th",[s("div",{staticClass:"subtitle-short"},[t._v("\n                  Dep"),s("br"),t._v("\n                  <10 min\n                ")])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    30 min no dep\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Dep\n                    ")])])])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    24 h no dep\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Dep\n                    ")])])])]),s("vs-th",[s("div",{staticClass:"subtitle"},[s("div",{staticClass:"subtitle__title"},[t._v("\n                    48 h no dep\n                  ")]),s("div",{staticClass:"subtitle__row"},[s("div",{staticClass:"subtitle__column"},[t._v("\n                      Sent\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Open\n                    ")]),s("div",{staticClass:"subtitle__column"},[t._v("\n                      Dep\n                    ")])])])])],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.filteredTable,(function(e,n){return s("vs-tr",{key:n,attrs:{data:e}},[s("vs-td",[t._v("\n                "+t._s(t.momentProvider(e.CreatedAt).format("DD.MM.YYYY"))+"\n              ")]),s("vs-td",[t._v("\n                "+t._s(e.Installs)+"\n              ")]),s("vs-td",[s("div",{staticClass:"description-short"},[t._v("\n                  N/A\n                ")])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoReg10MinPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.RegsAfter10MinPush)+"\n                    ")])])])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoReg24HrsPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.RegsAfter24HrsPush)+"\n                    ")])])])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoReg48HrsPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.RegsAfter48HrsPush)+"\n                    ")])])])]),s("vs-td",[s("div",{staticClass:"description-short"},[t._v("\n                  N/A\n                ")])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoDep30MinPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.DepsAfter30MinPush)+"\n                    ")])])])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoDep24HrsPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.DepsAfter24HrsPush)+"\n                    ")])])])]),s("vs-td",[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},[s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.NoDep48HrsPush)+"\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      N/A\n                    ")]),s("div",{staticClass:"subtable__column"},[t._v("\n                      "+t._s(e.DepsAfter48HrsPush)+"\n                    ")])])])])],1)}))},proxy:!0},t.currentPage!==t.max?{key:"footer",fn:function(){return[s("vs-pagination",{attrs:{length:t.$vs.getLength(t.table,t.max)},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]},proxy:!0}:null,{key:"notFound",fn:function(){return[t._v("\n            Нет записей\n          ")]},proxy:!0}],null,!0)})],1)],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.table.length,expression:"table.length"}],staticClass:"full-size-space-between__row"},[s("div",{ref:"statistics",staticClass:"statistics"},t._l(10,(function(e){return s("div",{key:e,staticClass:"statistics__column"},[e>3&&e<7||e>7?s("div",{staticClass:"statistics__content"},[s("div",{staticClass:"subtable"},[s("div",{staticClass:"subtable__row"},t._l(3,(function(t){return s("div",{key:t,staticClass:"subtable__column"})})),0),s("div",{staticClass:"label"},[4==e?[t._v("\n                10 min no reg\n              ")]:5==e?[t._v("\n                24 h no reg\n              ")]:6==e?[t._v("\n                48 h no reg\n              ")]:8==e?[t._v("\n                30 min no dep\n              ")]:9==e?[t._v("\n                24 h no dep\n              ")]:10==e?[t._v("\n                48 h no dep\n              ")]:t._e()],2)])]):s("div",{staticClass:"statistics__content"})])})),0)])])},V=[],U=s("768b"),B=(s("55dd"),{getStatistics:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var s,n,a,r,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,$.post("/api/stat",{params:e});case 2:for(r in s=t.sent,n=s.data,a=[],n)i=Object.assign({},n[r],{CreatedAt:r}),a.push(i);return t.abrupt("return",a.slice().sort((function(t,e){return w()(t.CreatedAt).isBefore(e.CreatedAt)})));case 7:case"end":return t.stop()}}),t)})));function e(e){return t.apply(this,arguments)}return e}()}),K={name:"Statistics",metaInfo:function(){return{title:"Статистика"}},created:function(){this.$store.dispatch("applications/getApplications").then(this.forceSelectRerender),window.addEventListener("resize",this.setTotalColumnsWidth)},beforeDestroy:function(){window.removeEventListener("resize",this.setTotalColumnsWidth)},watch:{selectedApplication:function(t){var e=this;t&&(this.fetchingApplicationStatistic=!0,B.getStatistics().then((function(t){e.table=t})).finally((function(){e.fetchingApplicationStatistic=!1})))},filteredTable:function(){var t=this;this.setTotalData(),this.$nextTick((function(){t.setTotalColumnsWidth()}))}},data:function(){var t=[{label:"game.jeen.hd",value:"game.jeen.hd"}],e=this.$moment().subtract(10,"days").format("YYYY-MM-DD"),s=this.$moment().format("YYYY-MM-DD");return{applications:t,currentPage:1,max:1,selectKey:0,selectedApplication:"",fetchingApplicationStatistic:!1,reloadApplicationStatistic:!1,table:[],dateFilters:{fromDate:e,toDate:s}}},computed:{tableIsFetched:function(){return this.selectedApplication&&!1===this.fetchingApplicationStatistic},hasFilters:function(){var t=this.dateFilters,e=t.fromDate,s=t.toDate;return e&&s},filteredTable:function(){var t=this,e=this.dateFilters,s=e.fromDate,n=e.toDate;return this.hasFilters?this.table.filter((function(e){return t.$moment(e.CreatedAt).isSameOrAfter(s)&&t.$moment(e.CreatedAt).isSameOrBefore(n)})):this.table},totalInstalls:function(){return this.calculateTotal("Installs")}},methods:{setTotalColumnsWidth:function(){var t=this.$refs.table.$el,e=this.$refs.statistics,s=t.querySelectorAll("thead > tr > th"),n=e.querySelectorAll(".statistics__column");Array.prototype.forEach.call(s,(function(t,e){var s=getComputedStyle(t).width,a=n[e];a.style.width=s}))},setTotalData:function(){var t=this,e=this.$refs.statistics,s=e.querySelectorAll(".statistics__column");Array.prototype.forEach.call(s,(function(e,s){var n=e.querySelector(".statistics__content");if(1===s)n.innerHTML=t.calculateTotal("Installs");else if(2===s)n.innerHTML="N/A";else if(3===s){var a=e.querySelectorAll(".subtable__column"),r=Object(U["a"])(a,3),i=r[0],o=r[1],l=r[2];i.innerHTML=t.calculateTotal("NoReg10MinPush"),o.innerHTML="N/A",l.innerHTML=t.calculateTotal("RegsAfter10MinPush")}else if(4===s){var c=e.querySelectorAll(".subtable__column"),u=Object(U["a"])(c,3),d=u[0],f=u[1],p=u[2];d.innerHTML=t.calculateTotal("NoReg24HrsPush"),f.innerHTML="N/A",p.innerHTML=t.calculateTotal("RegsAfter24HrsPush")}else if(5===s){var v=e.querySelectorAll(".subtable__column"),m=Object(U["a"])(v,3),b=m[0],h=m[1],_=m[2];b.innerHTML=t.calculateTotal("NoReg48HrsPush"),h.innerHTML="N/A",_.innerHTML=t.calculateTotal("RegsAfter48HrsPush")}else if(6===s)n.innerHTML="N/A";else if(7===s){var g=e.querySelectorAll(".subtable__column"),y=Object(U["a"])(g,3),j=y[0],k=y[1],C=y[2];j.innerHTML=t.calculateTotal("NoDep30MinPush"),k.innerHTML="N/A",C.innerHTML=t.calculateTotal("DepsAfter30MinPush")}else if(8===s){var A=e.querySelectorAll(".subtable__column"),w=Object(U["a"])(A,3),M=w[0],T=w[1],x=w[2];M.innerHTML=t.calculateTotal("NoDep24HrsPush"),T.innerHTML="N/A",x.innerHTML=t.calculateTotal("DepsAfter24HrsPush")}else if(9===s){var P=e.querySelectorAll(".subtable__column"),O=Object(U["a"])(P,3),I=O[0],E=O[1],S=O[2];I.innerHTML=t.calculateTotal("NoDep48HrsPush"),E.innerHTML="N/A",S.innerHTML=t.calculateTotal("DepsAfter48HrsPush")}}))},calculateTotal:function(t){return this.table.reduce((function(e,s){return e+s[t]}),0)},momentProvider:function(t){return this.$moment(t)},forceSelectRerender:function(){this.selectKey+=1},resetDateFilters:function(){this.dateFilters={toDate:"",fromDate:""}},reload:function(){var t=this;this.reloadApplicationStatistic=!0,B.getStatistics().then((function(e){t.table=e})).finally((function(){t.reloadApplicationStatistic=!1}))}}},X=K,W=(s("051c"),Object(v["a"])(X,Y,V,!1,null,"244414a1",null)),J=W.exports,G={name:"Statistics",path:"/statistics",component:J,meta:{requiresAuth:!0}},Q=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",[s("vs-col",{attrs:{w:"12"}},[s("vs-button",{on:{click:function(){return t.openFormModal()}}},[t._v("\n        Добавить\n      ")])],1)],1),s("vs-row",{style:{marginTop:"15px"}},[s("vs-col",{attrs:{w:"12"}},[s("vs-table",{ref:"table",attrs:{striped:""},scopedSlots:t._u([{key:"thead",fn:function(){return[s("vs-tr",[s("vs-th",[t._v("\n              BundleId\n            ")]),s("vs-th",[t._v("\n              Name\n            ")]),s("vs-th",[t._v("\n              AppsflyerId\n            ")]),s("vs-th",[t._v("\n              FacebookId\n            ")]),s("vs-th",[t._v("\n              MagicCheckerId\n            ")]),s("vs-th",[t._v("\n              PushApiKey\n            ")]),s("vs-th",[t._v("\n              UserXId\n            ")]),s("vs-th",{attrs:{sort:""},on:{click:function(e){t.localApplications=t.$vs.sortData(e,t.localApplications,"CreatedAt")}}},[t._v("\n              CreatedAt\n            ")]),s("vs-th",{attrs:{sort:""},on:{click:function(e){t.localApplications=t.$vs.sortData(e,t.localApplications,"UpdatedAt")}}},[t._v("\n              UpdatedAt\n            ")]),s("vs-th")],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.localApplications,(function(e){return s("vs-tr",{key:e.ID,attrs:{data:e}},[s("vs-td",[t._v("\n              "+t._s(e.BundleId)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(e.Name)+"\n            ")]),s("vs-td",{staticClass:"break-all"},[t._v("\n              "+t._s(e.AppsflyerId)+"\n            ")]),s("vs-td",{staticClass:"break-all"},[t._v("\n              "+t._s(e.FacebookId)+"\n            ")]),s("vs-td",{staticClass:"break-all"},[t._v("\n              "+t._s(e.MagicCheckerId)+"\n            ")]),s("vs-td",{staticClass:"break-all"},[t._v("\n              "+t._s(e.PushApiKey)+"\n            ")]),s("vs-td",{staticClass:"break-all"},[t._v("\n              "+t._s(e.UserXId)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(t.momentProvider(e.CreatedAt).format("DD.MM.YYYY"))+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(t.momentProvider(e.UpdatedAt).format("DD.MM.YYYY"))+"\n            ")]),s("vs-td",[s("div",{staticClass:"flex-end"},[s("vs-button",{attrs:{flat:"",size:"small"},on:{click:function(s){return t.openFormModal(e)}}},[t._v("\n                  Редактировать\n                ")])],1)])],1)}))},proxy:!0},t.currentPage!==t.max?{key:"footer",fn:function(){return[s("vs-pagination",{attrs:{length:t.$vs.getLength(t.table,t.max)},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]},proxy:!0}:null,{key:"notFound",fn:function(){return[t._v("\n          Нет записей\n        ")]},proxy:!0}],null,!0)})],1)],1),s("MakeApplication",{attrs:{visible:t.formModalVisible,editedPayload:t.formModalPayload,isEditMode:null!==t.formModalPayload},on:{close:t.closeFormModal,success:function(e){return t.localApplications.push(e)}}})],1)},Z=[],tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-dialog",{attrs:{width:"400px","not-center":""},scopedSlots:t._u([{key:"header",fn:function(){return[s("h4",{staticClass:"no-margin"},[t._v("\n      "+t._s(t.isEditMode?"Редактировать приложение":"Новое приложение")+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"con-footer"},[s("vs-button",{attrs:{loading:t.formRequest,gradient:""},on:{click:function(){return t.isEditMode?t.updateApplication():t.makeApplication()}}},[t._v("\n        "+t._s(t.isEditMode?"Редактировать":"Создать")+"\n      ")]),s("vs-button",{attrs:{dark:"",transparent:""},on:{click:t.close}},[t._v("\n        Отмена\n      ")])],1)]},proxy:!0}]),model:{value:t.visibleModel,callback:function(e){t.visibleModel=e},expression:"visibleModel"}},[s("div",{staticClass:"form-container"},t._l(t.form,(function(e,n){return s("div",{key:n,staticClass:"form-container__row"},[s("vs-input",{attrs:{label:n,block:""},scopedSlots:t._u([t.formErrors[n]&&t.formErrors[n].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors[n].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form[n],callback:function(e){t.$set(t.form,n,e)},expression:"form[property]"}})],1)})),0)])},et=[],st=(s("8615"),{name:"MakeApplication",props:{visible:{type:Boolean,required:!0},isEditMode:{type:Boolean,default:!1},editedPayload:{type:Object,required:!1,default:function(){return{}}}},watch:{visible:function(t){t&&this.isEditMode?this.setEditedPayloadValuesInForm():!1===t&&this.resetForm()}},data:function(){return{form:{AmplitudeId:"",AppsflyerId:"",BundleId:"",FacebookId:"",MagicCheckerId:"",Name:"",PushApiKey:"",UserXId:""},formRequest:!1,formErrors:{}}},computed:{visibleModel:{get:function(){return this.visible},set:function(){this.close()}},formIsValid:function(){return Object.values(this.formErrors).every((function(t){return 0===t.length}))}},methods:{setEditedPayloadValuesInForm:function(){var t=this,e=["AmplitudeId","AppsflyerId","BundleId","FacebookId","MagicCheckerId","Name","PushApiKey","UserXId"];e.forEach((function(e){var s=t.editedPayload[e];void 0!==s&&(t.form[e]=s)}))},close:function(){this.$emit("close")},resetForm:function(){this.form={AmplitudeId:"",AppsflyerId:"",BundleId:"",FacebookId:"",MagicCheckerId:"",Name:"",PushApiKey:"",UserXId:""},this.formErrors={}},validateForm:function(){var t=this,e={};for(var s in this.form)e[s]=[];var n=["AmplitudeId","AppsflyerId","BundleId","FacebookId","MagicCheckerId","Name","PushApiKey","UserXId"];n.forEach((function(s){t.form[s].length||e[s].push("Значение обязательно")})),this.formErrors=e},makeApplication:function(){var t=this;if(this.validateForm(),!1!==this.formIsValid){var e=Object.assign({},this.form);this.formRequest=!0,R.createApplication(e).then((function(){console.log("created")})).catch((function(){t.$vs.notification({color:"danger",title:"Ошибка",text:"Не удалось создать приложение"})})).finally((function(){t.formRequest=!1}))}},updateApplication:function(){var t=this;if(this.validateForm(),!1!==this.formIsValid){var e=Object.assign({},this.form);this.formRequest=!0,R.editApplication(this.editedPayload.ID,e).then((function(){console.log("edited")})).catch((function(){t.$vs.notification({color:"danger",title:"Ошибка",text:"Не удалось обновить приложение"})})).finally((function(){t.formRequest=!1}))}}}}),nt=st,at=Object(v["a"])(nt,tt,et,!1,null,null,null),rt=at.exports,it={name:"Applications",metaInfo:function(){return{title:"Приложения"}},components:{MakeApplication:rt},mounted:function(){var t=this;this.setLoader(),this.$store.dispatch("applications/getApplications").finally((function(){t.unsetLoader()}))},data:function(){return{currentPage:1,max:1,formModalVisible:!1,formModalPayload:null,localApplications:[]}},computed:{tableIsFetched:function(){return this.selectedApplication&&!1===this.fetchingApplicationStatistic},applications:function(){return this.$store.state.applications.applications}},watch:{applications:function(t){this.localApplications=t}},methods:{momentProvider:function(t){return this.$moment(t)},setLoader:function(){this._loadingCallback=this.$vs.loading({target:this.$refs.table})},unsetLoader:function(){this._loadingCallback&&this._loadingCallback.close()},openFormModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.formModalPayload=t?Object.assign({},t):null,this.formModalVisible=!0},closeFormModal:function(){this.formModalPayload=null,this.formModalVisible=!1}}},ot=it,lt=Object(v["a"])(ot,Q,Z,!1,null,null,null),ct=lt.exports,ut={name:"Applications",path:"/applications",component:ct,meta:{requiresAuth:!0}},dt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("vs-row",[s("vs-col",{attrs:{w:"12"}},[s("div",{staticClass:"actions"},[s("vs-button",{on:{click:function(){return t.openFormModal()}}},[t._v("\n          Добавить\n        ")])],1)])],1),s("vs-row",{style:{marginTop:"15px"}},[s("vs-col",{attrs:{w:"12"}},[s("vs-table",{ref:"table",attrs:{striped:""},scopedSlots:t._u([{key:"thead",fn:function(){return[s("vs-tr",[s("vs-th",[t._v("\n              Title\n            ")]),s("vs-th",[t._v("\n              Type\n            ")]),s("vs-th",[t._v("\n              SubType\n            ")]),s("vs-th",[t._v("\n              Message\n            ")]),s("vs-th",[t._v("\n              App\n            ")]),s("vs-th",{attrs:{sort:""},on:{click:function(e){t.templates=t.$vs.sortData(e,t.templates,"CreatedAt")}}},[t._v("\n              CreatedAt\n            ")]),s("vs-th",{attrs:{sort:""},on:{click:function(e){t.templates=t.$vs.sortData(e,t.templates,"UpdatedAt")}}},[t._v("\n              UpdatedAt\n            ")]),s("vs-th")],1)]},proxy:!0},{key:"tbody",fn:function(){return t._l(t.templates,(function(e){return s("vs-tr",{key:e.ID,attrs:{data:e}},[s("vs-td",[t._v("\n              "+t._s(e.Title)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(e.Type)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(e.SubType)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(e.Message)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(e.App)+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(t.momentProvider(e.CreatedAt).format("DD.MM.YYYY"))+"\n            ")]),s("vs-td",[t._v("\n              "+t._s(t.momentProvider(e.UpdatedAt).format("DD.MM.YYYY"))+"\n            ")]),s("vs-td",[s("div",{staticClass:"flex-end"},[s("vs-button",{attrs:{flat:"",size:"small"},on:{click:function(s){return t.openFormModal(e)}}},[t._v("\n                  Редактировать\n                ")])],1)])],1)}))},proxy:!0},t.currentPage!==t.max?{key:"footer",fn:function(){return[s("vs-pagination",{attrs:{length:t.$vs.getLength(t.templates,t.max)},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})]},proxy:!0}:null,{key:"notFound",fn:function(){return[t._v("\n          Нет записей\n        ")]},proxy:!0}],null,!0)})],1)],1),s("MakeTemplate",{attrs:{visible:t.formModalVisible,editedPayload:t.formModalPayload,isEditMode:null!==t.formModalPayload},on:{close:t.closeFormModal,success:function(e){return t.templates.push(e)}}})],1)},ft=[],pt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("vs-dialog",{attrs:{width:"400px","not-center":""},scopedSlots:t._u([{key:"header",fn:function(){return[s("h4",{staticClass:"no-margin"},[t._v("\n      "+t._s(t.isEditMode?"Редактировать пуш":"Новый пуш")+"\n    ")])]},proxy:!0},{key:"footer",fn:function(){return[s("div",{staticClass:"con-footer"},[s("vs-button",{attrs:{loading:t.formRequest,gradient:""},on:{click:function(){return t.isEditMode?t.updateTemplate():t.makeTemplate()}}},[t._v("\n        "+t._s(t.isEditMode?"Редактировать":"Создать")+"\n      ")]),s("vs-button",{attrs:{dark:"",transparent:""},on:{click:t.close}},[t._v("\n        Отмена\n      ")])],1)]},proxy:!0}]),model:{value:t.visibleModel,callback:function(e){t.visibleModel=e},expression:"visibleModel"}},[s("div",{staticClass:"form-container"},[s("div",{staticClass:"form-container__row"},[s("vs-select",{key:t.selectKey,attrs:{label:"App",loading:t.applicationsIsFetching,block:""},scopedSlots:t._u([t.formErrors["AppId"]&&t.formErrors["AppId"].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors["AppId"].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form.AppId,callback:function(e){t.$set(t.form,"AppId",e)},expression:"form.AppId"}},t._l(t.applications,(function(e){return s("vs-option",{key:e.ID,attrs:{value:e.ID,label:e.BundleId}},[t._v("\n          "+t._s(e.BundleId)+"\n        ")])})),1)],1),s("div",{staticClass:"form-container__row"},[s("vs-input",{attrs:{label:"Title",block:""},scopedSlots:t._u([t.formErrors["Title"]&&t.formErrors["Title"].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors["Title"].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form.Title,callback:function(e){t.$set(t.form,"Title",e)},expression:"form.Title"}})],1),s("div",{staticClass:"form-container__row"},[s("vs-input",{attrs:{label:"Message",block:""},scopedSlots:t._u([t.formErrors["Message"]&&t.formErrors["Message"].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors["Message"].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form.Message,callback:function(e){t.$set(t.form,"Message",e)},expression:"form.Message"}})],1),s("div",{staticClass:"form-container__row"},[s("vs-input",{attrs:{label:"Type",block:""},scopedSlots:t._u([t.formErrors["Type"]&&t.formErrors["Type"].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors["Type"].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form.Type,callback:function(e){t.$set(t.form,"Type",e)},expression:"form.Type"}})],1),s("div",{staticClass:"form-container__row"},[s("vs-input",{attrs:{label:"SubType",block:""},scopedSlots:t._u([t.formErrors["SubType"]&&t.formErrors["SubType"].length>0?{key:"message-danger",fn:function(){return[t._v("\n          "+t._s(t.formErrors["SubType"].join(", "))+"\n        ")]},proxy:!0}:null],null,!0),model:{value:t.form.SubType,callback:function(e){t.$set(t.form,"SubType",e)},expression:"form.SubType"}})],1)])])},vt=[],mt={getTemplates:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(){var e,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.get("/api/templates/");case 3:return e=t.sent,s=e.data,t.abrupt("return",s);case 8:throw t.prev=8,t.t0=t["catch"](0),Error(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),createTemplate:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e){var s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.post("/api/templates/",e);case 3:return s=t.sent,t.abrupt("return",s);case 7:throw t.prev=7,t.t0=t["catch"](0),Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e){return t.apply(this,arguments)}return e}(),editTemplate:function(){var t=Object(I["a"])(regeneratorRuntime.mark((function t(e,s){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,$.post("/api/templates/".concat(e,"/"),s);case 3:return n=t.sent,t.abrupt("return",n);case 7:throw t.prev=7,t.t0=t["catch"](0),Error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));function e(e,s){return t.apply(this,arguments)}return e}()};function bt(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),s.push.apply(s,n)}return s}function ht(t){for(var e=1;e<arguments.length;e++){var s=null!=arguments[e]?arguments[e]:{};e%2?bt(Object(s),!0).forEach((function(e){Object(l["a"])(t,e,s[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):bt(Object(s)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(s,e))}))}return t}var _t={name:"MakeTemplate",props:{visible:{type:Boolean,required:!0},isEditMode:{type:Boolean,default:!1},editedPayload:{type:Object,required:!1,default:function(){return{}}}},watch:{visible:function(t){t?(this.$store.dispatch("applications/getApplications").then(this.forceSelectRerender),this.isEditMode&&this.setEditedPayloadValuesInForm()):this.resetForm()}},data:function(){return{form:{Title:"",Message:"",Type:"",SubType:"",AppId:""},selectKey:0,formRequest:!1,formErrors:{}}},computed:ht(ht({},Object(c["b"])("applications",{applications:function(t){return t.applications},applicationsIsFetching:function(t){return t.request}})),{},{visibleModel:{get:function(){return this.visible},set:function(){this.close()}},formIsValid:function(){return Object.values(this.formErrors).every((function(t){return 0===t.length}))}}),methods:{setEditedPayloadValuesInForm:function(){var t=this,e=["Title","Message","Type","SubType","AppId"];e.forEach((function(e){var s=t.editedPayload[e];void 0!==s&&(t.form[e]=s)}))},forceSelectRerender:function(){this.selectKey+=1},close:function(){this.$emit("close")},resetForm:function(){this.form={Title:"",Message:"",Type:"",SubType:"",AppId:""},this.formErrors={}},validateForm:function(){var t=this,e=this.form.AppId,s={},n=["Title","Message","Type","SubType"];for(var a in this.form)s[a]=[];""===e&&s["AppId"].push("Значение обязательно"),n.forEach((function(e){t.form[e].length||s[e].push("Значение обязательно")})),this.formErrors=s},makeTemplate:function(){var t=this;if(this.validateForm(),!1!==this.formIsValid){var e=Object.assign({},this.form);this.formRequest=!0,mt.createTemplate(e).then((function(){console.log("created")})).catch((function(){t.$vs.notification({color:"danger",title:"Ошибка",text:"Не удалось создать пуш"})})).finally((function(){t.formRequest=!1}))}},updateTemplate:function(){var t=this;if(this.validateForm(),!1!==this.formIsValid){var e=Object.assign({},this.form);this.formRequest=!0,mt.editTemplate(this.editedPayload.ID,e).then((function(){console.log("edited")})).catch((function(){t.$vs.notification({color:"danger",title:"Ошибка",text:"Не удалось обновить пуш"})})).finally((function(){t.formRequest=!1}))}}}},gt=_t,yt=Object(v["a"])(gt,pt,vt,!1,null,null,null),jt=yt.exports,kt={name:"Templates",metaInfo:function(){return{title:"Пушы"}},components:{MakeTemplate:jt},mounted:function(){var t=this;this.setLoader(),mt.getTemplates().then((function(e){t.templates=e})).finally((function(){t.unsetLoader()}))},data:function(){return{currentPage:1,max:1,templatesIsReloading:!1,templates:[],formModalVisible:!1,formModalPayload:null}},methods:{setLoader:function(){this._loadingCallback=this.$vs.loading({target:this.$refs.table})},unsetLoader:function(){this._loadingCallback&&this._loadingCallback.close()},momentProvider:function(t){return this.$moment(t)},reload:function(){var t=this;this.templatesIsReloading=!0,mt.getTemplates().then((function(e){t.templates=e})).catch((function(){t.$vs.notification({color:"danger",title:"Ошибка",text:"Не удалось получить пушы"})})).finally((function(){t.templatesIsReloading=!1}))},openFormModal:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.formModalPayload=t?Object.assign({},t):null,this.formModalVisible=!0},closeFormModal:function(){this.formModalPayload=null,this.formModalVisible=!1}}},Ct=kt,At=(s("0110"),Object(v["a"])(Ct,dt,ft,!1,null,"154dc392",null)),wt=At.exports,Mt={name:"Templates",path:"/Templates",component:wt,meta:{requiresAuth:!0}},Tt=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"login-container"},[t._m(0),s("div",{staticClass:"login-container__row"},[s("vs-input",{attrs:{placeholder:"Пользователь",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}})],1),s("div",{staticClass:"login-container__row"},[s("vs-input",{attrs:{type:"password",placeholder:"Пароль",required:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1),s("div",{staticClass:"login-container__row"},[s("vs-button",{attrs:{loading:t.request},on:{click:t.handleLogin}},[t._v("\n      Авторизация\n    ")])],1)])},xt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-container__row"},[n("div",{staticClass:"logo-wrapper"},[n("img",{attrs:{src:s("9d64")}})])])}],Pt={name:"Login",metaInfo:function(){return{title:"Авторизация"}},data:function(){return{username:"test",password:"test",request:!1}},computed:{isEmpty:function(){return""===this.username.trim()||""===this.password.trim()}},methods:{handleLogin:function(){var t=this;this.isEmpty||(clearTimeout(this.timerId),this.request=!0,this.timerId=setTimeout((function(){"test"===t.username&&"test"===t.password?(t.$store.commit("auth/setAuth",!0),t.$router.push("/statistics")):t.$vs.notification({color:"danger",title:"Ошибка",text:"Введите корректные данные"}),t.request=!1}),500))}}},Ot=Pt,It=(s("8cf2"),Object(v["a"])(Ot,Tt,xt,!1,null,"91e61a0a",null)),Et=It.exports,St={name:"Login",path:"/login",component:Et};n["default"].use(M["a"]);var Dt=new M["a"]({base:"/arbitrage-vue/",routes:[G,ut,Mt,St]});Dt.beforeEach((function(t,e,s){if(t.matched.some((function(t){return t.meta.requiresAuth}))){var n=z.state.auth.isLoggedIn;!1===n?s({path:"/login",params:{nextUrl:t.fullPath}}):s()}else s()}));var $t=Dt;s("04f2"),s("b383");n["default"].config.productionTip=!1,n["default"].use(C["a"]),n["default"].use(r.a,{colors:{primary:"#2e5266",success:"rgb(23, 201, 100)",danger:"rgb(242, 19, 93)",warning:"rgb(255, 130, 0)",dark:"rgb(36, 33, 69)"}}),n["default"].prototype.$moment=w.a,new n["default"]({router:$t,store:z,render:function(t){return t(k)}}).$mount("#app")},"73c6":function(t,e,s){},7895:function(t,e,s){},"807a":function(t,e,s){"use strict";var n=s("7895"),a=s.n(n);a.a},"8ad1":function(t,e,s){},"8cf2":function(t,e,s){"use strict";var n=s("53d5"),a=s.n(n);a.a},"9d64":function(t,e,s){t.exports=s.p+"img/logo.d821bca9.png"},ad49:function(t,e,s){"use strict";var n=s("2ab4"),a=s.n(n);a.a},b383:function(t,e,s){},e8bd:function(t,e,s){t.exports=s.p+"img/logo-transparent.9feb196b.png"}});
//# sourceMappingURL=app.f42a95d6.js.map